# Coolify Support Documentation

> **Status**: Scaffolding Only - Not Activated  
> **Purpose**: Compatibility markers for Hostinger VPN + Coolify deployment

This document provides scaffolding and notes for deploying this application on Coolify as an alternative to Railway.

## Overview

Coolify is a self-hosted, open-source platform for deploying applications. This project includes compatibility markers for future migration from Railway to Coolify.

## Prerequisites

- A server with Coolify installed
- Docker support on the target server
- (Optional) Hostinger VPN for secure tunneling

## Configuration Files

### Docker Configuration (Placeholder)

When activating Coolify deployment, create a `docker-compose.coolify.yml`:

```yaml
# PLACEHOLDER - Customize for your Coolify instance
version: '3.8'

services:
  web:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - PORT=3000
      # Add secrets from Coolify's secret management
      - NEXT_PUBLIC_SUPABASE_URL=${NEXT_PUBLIC_SUPABASE_URL}
      - NEXT_PUBLIC_SUPABASE_ANON_KEY=${NEXT_PUBLIC_SUPABASE_ANON_KEY}
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3000/"]
      interval: 30s
      timeout: 10s
      retries: 3
```

### Dockerfile (Placeholder)

> **Note**: This Dockerfile assumes Next.js standalone output mode. To enable it, add `output: 'standalone'` to your `next.config.js`. See [Next.js documentation](https://nextjs.org/docs/app/api-reference/next-config-js/output) for details.

```dockerfile
# PLACEHOLDER - Customize for your needs
FROM node:18-alpine AS base

# Install dependencies only when needed
FROM base AS deps
WORKDIR /app
COPY package.json pnpm-lock.yaml ./
RUN corepack enable pnpm && pnpm install --frozen-lockfile

# Build the application
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .
RUN corepack enable pnpm && pnpm run build

# Production image
FROM base AS runner
WORKDIR /app
ENV NODE_ENV=production

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

COPY --from=builder /app/public ./public
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static

USER nextjs
EXPOSE 3000
ENV PORT=3000

CMD ["node", "server.js"]
```

## Hostinger VPN Tunneling Notes

If using Hostinger VPN for secure access to your Coolify server:

1. **VPN Setup**: Configure Hostinger VPN on your server
2. **Network Configuration**: Ensure Coolify can communicate over the VPN tunnel
3. **DNS Resolution**: Update DNS settings to point to VPN-accessible endpoints
4. **Firewall Rules**: Configure appropriate firewall rules for VPN traffic

### Network Diagram (Placeholder)

```
[User] --> [Cloudflare/DNS] --> [Hostinger VPN Entry] --> [Coolify Server] --> [Application]
```

## Environment Variables

Reference the `.agents` file in the repository root for the complete list of required environment variables and their formats.

## Migration Checklist

See `COOLIFY_MIGRATION.md` for step-by-step migration instructions from Railway to Coolify.

## Support

This is scaffolding only. Activate and customize these configurations when ready to migrate from Railway to Coolify.

---

*Generated by Railway Zero-Secrets Bootstrapper*
